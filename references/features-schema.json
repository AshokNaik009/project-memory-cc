{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Project Memory Features Schema",
  "description": "Schema for the features.json file used by the project-memory skill",
  "type": "object",
  "required": ["version", "last_updated", "features"],
  "properties": {
    "version": {
      "type": "string",
      "description": "Schema version number",
      "pattern": "^\\d+\\.\\d+$",
      "examples": ["1.0"]
    },
    "last_updated": {
      "type": "string",
      "description": "ISO 8601 timestamp of last update",
      "format": "date-time",
      "examples": ["2025-01-27T10:30:00Z"]
    },
    "features": {
      "type": "object",
      "description": "Map of ticket IDs to feature details",
      "additionalProperties": {
        "$ref": "#/definitions/feature"
      }
    }
  },
  "definitions": {
    "feature": {
      "type": "object",
      "required": ["summary", "keywords", "files", "status", "dev", "date"],
      "properties": {
        "summary": {
          "type": "string",
          "description": "Brief description of the feature (max 100 characters)",
          "maxLength": 100
        },
        "keywords": {
          "type": "array",
          "description": "Extracted keywords for similarity matching",
          "items": {
            "type": "string"
          },
          "minItems": 1,
          "maxItems": 10
        },
        "files": {
          "type": "array",
          "description": "List of files created or modified for this feature",
          "items": {
            "type": "string"
          }
        },
        "status": {
          "type": "string",
          "description": "Current status of the feature",
          "enum": ["in_progress", "implemented"]
        },
        "dev": {
          "type": "string",
          "description": "Developer who implemented the feature"
        },
        "date": {
          "type": "string",
          "description": "Date when the feature was started or completed",
          "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
          "examples": ["2025-01-27"]
        }
      }
    }
  }
}
